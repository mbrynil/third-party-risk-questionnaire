{% extends "base.html" %}

{% block title %}{{ questionnaire.title }} - RiskQ{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{{ questionnaire.title }}</h1>
    <p>Please complete this questionnaire and submit your responses</p>
</div>

<form method="post">
    <div class="card mb-4">
        <div class="card-header">
            <i class="bi bi-building me-2"></i>Your Information
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="vendor_name" class="form-label">Company Name</label>
                    <input type="text" class="form-control" id="vendor_name" name="vendor_name" required 
                           placeholder="Your company name">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="vendor_email" class="form-label">Contact Email</label>
                    <input type="email" class="form-control" id="vendor_email" name="vendor_email" required 
                           placeholder="your.email@company.com">
                </div>
            </div>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-header">
            <i class="bi bi-list-check me-2"></i>Questions
            <span class="badge bg-primary ms-2">{{ questions|length }} questions</span>
        </div>
        <div class="card-body">
            {% for question in questions %}
            <div class="mb-4 {% if not loop.last %}pb-4 border-bottom{% endif %}">
                <label for="answer_{{ question.id }}" class="form-label">
                    <span class="badge bg-secondary me-2">{{ loop.index }}</span>
                    {{ question.question_text }}
                </label>
                <textarea class="form-control" id="answer_{{ question.id }}" name="answer_{{ question.id }}" 
                          rows="3" required placeholder="Enter your answer..."></textarea>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="d-grid gap-2 col-md-6 mx-auto">
        <button type="submit" class="btn btn-primary btn-lg">
            <i class="bi bi-send me-2"></i>Submit Responses
        </button>
    </div>
</form>
{% endblock %}
